#                                \\[WWN]//
[core]
#////////////////////////////[Название]//////////////////////////////////////
	name: Kraken
	displayText: KRAKEN
	displayText_ru: КРАКЕН
	displayText_uk: КРАКЕН
	displayText_zh_cn: 海妖
	displayDescription: -Slow, armored \n -Has two T4 superaerodromes \n -Has TIC and nuclear projectiles \n -Has radar, sonar
	displayDescription_ru: -Медленный, бронированный \n -Имеет два Т4 аэродрома \n -Имеет СИП и ядерные снаряды \n -Имеет радар, сонар
	displayDescription_uk: -Повільний, броньований \n -Має два Т4 аеродрома \n -Має СІП та ядерні снаряди \n -Має радар, сонар
	displayDescription_zh_cn: -慢速, 装甲 \n -有两个T4机场 \n -有TIC和核弹 \n -有雷达，声纳
#//////////////////////////////[Код]/////////////////////////////////////////
	class: CustomUnitMetadata
	price: 19500
	maxHp: 18000
	mass: 30000
	armour: 13
	techLevel: 1
	experimental: true
	buildSpeed: 2000s
	tags:radar50,nav,AORB,sonar30,BIG,TitanL
	radius: 55
	isBio: false
	isBug: false
	numBitsOnDeath: 5
	hideScorchMark: true
	selfRegenRate:0.3
	soundOnDeath:..\..\..\OGG\Kor2.ogg
	effectOnDeath:CUSTOM:bam
	energyMax:4
	energyStartingPercentage:0
	energyRegen:0.003
	fogOfWarSightRange:40
	transportSlotsNeeded:6	
	generation_resources:MD=0.2
	generation_active:if self.resource(type='MD',lessThan=6)
	unitsSpawnedOnDeath: Krad
	nukeOnDeath:true
	[resource_MD]
	displayName:MD
	[resource_Vet]
	displayName:Vet
	[resource_CN]
	displayName:Combat Number
	[resource_Ck]
	displayName:Cost killed
[resource_Stun]
hidden: true
#//////////////////////////////[Действия]/////////////////////////////////////////	
[hiddenAction_Byaaa]
	autoTriggerOnEvent:destroyed
	addResources: Потери=3450
	deleteSelf:true
	playSoundToPlayer:..\..\..\OGG\Lost.ogg
	sendMessageTo:self.lastDamagedBy
	sendMessageWithData:Ck=self.priceCredits()
	
[hiddenAction_VetCK]
autoTriggerOnEvent:newMessage
addResourcesWithLogic:Ck=eventData(name="Ck", type="number")
[hiddenAction_Start]
	autoTriggerOnEvent:completeAndActive
	setResourcesWithLogic:CN=self.resource(type='номер')
	addResources:номер=1
	playSoundToPlayer:..\..\..\OGG\titanREADY.ogg
[hiddenAction_Veterancy1]
	autoTrigger:if self.resource(type='Ck')>=19500 and self.resource(type='Vet',lessThan=1)
	addResources: Vet=1
	setUnitStats:maxHp=21000, hp+=3000,  shootDelayMultiplier=0.9, shootDamageMultiplier=1.1, moveSpeed=0.9, maxTurnSpeed=0.5, maxAttackRange=710,selfRegenRate=0.4,fogOfWarSightRange+=2
	autoTriggerCheckRate: every8Frames
[hiddenAction_Veterancy2]
	autoTrigger:if self.resource(type='Ck')>=58500 and self.resource(type='Vet',lessThan=2)
	addResources: Vet=1
	setUnitStats:maxHp=24000, hp+=3000, shootDelayMultiplier=0.8, shootDamageMultiplier=1.3, moveSpeed=1.1, maxTurnSpeed=0.6, maxAttackRange=730,selfRegenRate=0.5,fogOfWarSightRange+=3
	autoTriggerCheckRate: every8Frames
[hiddenAction_Veterancy3]
	autoTrigger:if self.resource(type='Ck')>=117000 and self.resource(type='Vet',lessThan=3)
	addResources: Vet=1
	setUnitStats:maxHp=27000, hp+=3000, shootDelayMultiplier=0.65, shootDamageMultiplier=1.5, moveSpeed=1.3, maxTurnSpeed=0.7, maxAttackRange=760, armour=17,selfRegenRate=0.6,fogOfWarSightRange+=5
	autoTriggerCheckRate: every8Frames
[action_V1]
	text: Veterancy I
	text_ru: Ветеранство I 
	text_uk: Ветеранство I
	text_zh_cn: 退伍军人 I
	buildSpeed: 0s
	pos: 10
	displayType: infoOnlyStockpile
	isActive:false
	isVisible: if self.resource(type='Vet',greaterThan=0)
	iconImage: ROOT:\common\VETERAN_1.png
[action_V2]
	text: Veterancy II
	text_ru: Ветеранство II
	text_uk: Ветеранство II
	text_zh_cn: 退伍军人 II
	buildSpeed: 0s
	pos:10
	displayType: infoOnlyStockpile
	isActive:false
	isVisible: if self.resource(type='Vet',greaterThan=1)
	iconImage: ROOT:\common\VETERAN_2.png
[action_V3]
	text: Veterancy III
	text_ru: Ветеранство III
	text_uk: Ветеранство III
	text_zh_cn: 退伍军人 III
	buildSpeed: 0s
	pos: 10
	displayType: infoOnlyStockpile
	isActive:false
	isVisible: if self.resource(type='Vet',greaterThan=2)
	iconImage: ROOT:\common\VETERAN_3.png
[action_selectSlot1]
	@define slotId: 1
	buildSpeed: 0s
	text: [
	textAddUnitName: unitRef self.attachment(slot="unitSlot${slotId}")
	textPostFix: ]
	descriptionAddFromUnit: unitRef self.attachment(slot="unitSlot${slotId}")
	descriptionAddUnitStats: unitRef self.attachment(slot="unitSlot${slotId}")
	addResources: unsetFlag=1-10, setFlag=${slotId}
	isGuiBlinking: if self.hasFlag(id=${slotId})
	displayType: action
	unitShownInUI: unitRef self.attachment(slot="unitSlot${slotId}")
	iconExtraIsVisible: if self.hasFlag(id=${slotId})
	iconExtraImage: icon_selected.png
	pos:1
	canPlayerCancel: true
	allowMultipleInQueue: false
	alwaysSinglePress: true
	extraLagHidingInUI: true
[action_selectSlot3]
	@copyFromSection: action_selectSlot1
	@define slotId: 3
[attachment_unitSlot1]
	x:-25
	y:-15
	idleDir:180
	idleDirReversing:0
	onCreateSpawnUnitOf:Kraero
	setDrawLayerOnBottom: true
	canBeAttackedAndDamaged: false
	isUnselectable: false
	showAllActionsFrom:if self.hasFlag(id=1)
	lockRotation: true
	createIncompleteIfParentIs: false
[attachment_unitSlot3]
	@copyFromSection: attachment_unitSlot1
	x:25
	y:-15
	idleDirReversing:0
	onCreateSpawnUnitOf:Kraero
	showAllActionsFrom:if self.hasFlag(id=3)
#//////////////////////////////[Графика]/////////////////////////////////////////
[graphics]
	imageScale: 1.5
	total_frames: 1
	dustEffect:true
	image:  Bui.png
	image_wreak:  NONE
	movementEffect: CUSTOM:EkWakeTail, CUSTOM:EkWakefront
	movementEffectRate: 18
	image_shadow: AUTO
	showEnergyBar:false
	icon_zoomed_out:micon.png
	turretImageScale:0.5
#//////////////////////////////[Атака]/////////////////////////////////////////
[attack]
	canAttack: true
	canAttackFlyingUnits: true
	canAttackLandUnits:   true
	canAttackUnderwaterUnits: false
	turretMultiTargeting: true
	maxAttackRange: 700
#//////////////////////////////[Орудие]/////////////////////////////////////////
[turret_10]
	x: 10
	y: 20
	canAttackLandUnits:true
	canAttackFlyingUnits:true
	canAttackUnderwaterUnits:false
	size:8
	idleDir:90
	idleDirReversing: 180
	limitingAngle: 120
	projectile: 11
	turnSpeed: 3
	turnSpeedAcceleration: 1.2
	delay: 120
	shoot_sound:..\..\..\OGG\KorP01.ogg
	shoot_sound_vol:1
	shoot_flame:small
	shoot_light:#FFEECCCC
	image_applyTeamColors:true
	canShoot: true
	image:artilB.png
	recoilOffset: -1.5
	limitingRange:400
	canOnlyAttackUnitsWithoutTags:ORB	
[turret_11]
	x: 10
	y: 5
	warmup:5
	copyFrom:10
[turret_12]
	x: 10
	y: -10
	warmup:10
	copyFrom:10
[turret_13]
	x: 10
	y: -25
	warmup:15
	copyFrom:10
[turret_20]
	x: -10
	y: 20
	canAttackLandUnits:true
	canAttackFlyingUnits:true
	canAttackUnderwaterUnits:false
	size:8
	idleDir:-90
	idleDirReversing: 180
	limitingAngle: 120
	projectile: 11
	turnSpeed: 3
	turnSpeedAcceleration: 1.2
	delay: 120
	shoot_sound:..\..\..\OGG\KorP01.ogg
	shoot_sound_vol:1
	shoot_flame:small
	shoot_light:#FFEECCCC
	image_applyTeamColors:true
	canShoot: true
	image:artilB.png
	recoilOffset: -1.5
	limitingRange:400
	canOnlyAttackUnitsWithoutTags:ORB	
[turret_21]
	x: -10
	y: 5
	warmup:5
	copyFrom:20
[turret_22]
	x: -10
	y: -10
	warmup:10
	copyFrom:20
[turret_23]
	x: -10
	y: -25
	warmup:15
	copyFrom:20
[projectile_11]
	directDamage: 150
	life: 60
	speed: 8
	image:plas.png
	lightSize: 0.2
	lightColor: #ffcc00
	deflectionPower:0.5
	tags:land2
	drawSize: 0.7
[turret_1]
	x: 0
	y: -72
	idleDir:-180
	idleDirReversing: 180
	limitingAngle: 120
	image: turret_top.png
	image_applyTeamColors:true
	turnSpeed:0.5
	canShoot:false
[turret_2]
	x: 0
	y: 15
	attachedTo:1
	slave:true
	projectile: 2
	turnSpeed: 0.1
	turnSpeedAcceleration: 1
	shoot_sound:..\..\..\OGG\SIP.ogg
	shoot_sound_vol:0.42
	shoot_flame:NONE
	shoot_light:#42f2f5
	warmup: 200
	invisible: true
	canOnlyAttackUnitsWithoutTags:ORB	
	delay:20s
[turret_3]
	x: 0
	y: 46
	projectile: 1
	attachedTo:1
	slave:true
	limitingAngle: 30
	turnSpeed: 0.1
	turnSpeedAcceleration: 1
	shoot_sound:..\..\..\OGG\SIP.ogg
	shoot_sound_vol:0.42
	shoot_flame:NONE
	shoot_light:#42f2f5
	warmup: 200
	invisible: true
	canOnlyAttackUnitsWithTags:ORB
	canAttackLandUnits:   false
	delay:20s
[projectile_1]
	directDamage: 4200
	life: 40
	speed: 12
	armourIgnoreAmount: 10000
	instant:true
	instantReuseLast: true
	instantReuseLast_alsoChangeTurretAim: true
	moveWithParent: true
	beamImage:      ROOT:\common\beam32.png
	beamImageEnd:   SHARED:beam1_end.png
	beamImageStart: SHARED:beam1_start.png
	beamImageOffsetRate: 2
	explodeEffect: NONE
	explodeEffectOnShield: NONE
	sweepOffsetFromTargetRadius:0.4
	sweepSpeed:10
	largeHitEffect:true
	deflectionPower:-1
	drawSize: 0.25
	mutator2_ifUnitWithoutTags:0
	mutator2_addResourcesDirectHit:Stun=8
[projectile_2]
	directDamage: 4400
	areaDamage:3000
	areaRadius:60
	life: 100
	speed: 10
	moveWithParent: true
	beamImage:      ROOT:\common\beam32.png
	beamImageEnd:   SHARED:beam1_end.png
	beamImageStart: SHARED:beam1_start.png
	beamImageOffsetRate: 2
	explodeEffect: CUSTOM:TRbum,CUSTOM:LI
	sweepOffsetFromTargetRadius:0.4
	sweepSpeed:10
	tags:land5d
	largeHitEffect:true
	areaRadiusFromEdge:true
	deflectionPower:-1
	drawSize: 0.25
	mutator2_ifUnitWithoutTags:0
	mutator2_addResourcesAreaHit:Stun=8
	spawnProjectilesOnExplode:22
[projectile_22]
	life: 0
	areaDamage: 4400
	areaRadius: 60
	friendlyFire:true
	explodeOnEndOfLife: true
	explodeEffect: none
	mutator1_ifUnitWithoutTags:recl
	mutator1_areaDamageMultiplier:0
[effect_LI]
	image: SHARED:light_50.png
	life: 40
	fadeOut: true
	attachedToUnit:false
	color: #42f2f5
	fadeInTime:0.001
	scaleFrom: 4
	scaleTo: 0.1
	alpha: 0.7
	drawUnderUnits:false
[turret_0]
	x: 0
	y: 60
	projectile:artycanon1	
	shoot_sound: ..\..\..\OGG\KorArt1.ogg
	shoot_sound_vol:3.5
	size:7
	idleDir:0
	idleDirReversing: 180
	limitingAngle: 120
	recoilOffset: -2
	recoilOutTime: 7
	recoilReturnTime: 150	
	canAttackLandUnits:true
	canAttackFlyingUnits:false
	image_applyTeamColors:true
	delay:700
	image:B2.png
	shoot_flame: large,smoke,CUSTOM:ArtWAT2
	shoot_light:#ff7b00
	turnSpeed:0.7
[projectile_artycanon1]
	life: 500
	speed: 2
	drawSize: 0.35
	hitSound: true
	explodeOnEndOfLife:true		
	targetGround:true
	targetGroundSpread: 40
	largeHitEffect: false
	deflectionPower: 40
	areaDamage: 3500
	areaHitAirAndLandAtSameTime: true
	areaHitUnderwaterAlways:true
	alwaysVisibleInFog: true
	areaRadius: 110
	areaExpandTime:80
	lightSize: 0.4
	lightColor: #ffcc00
	nukeWeapon:true
	image:BIG_SNARYAD_VADIM_TOXA.png
	initialUnguidedSpeedHeight: 1
	gravity:0.7
	lightCastOnGround: true
	trailEffect:CUSTOM:trail5,CUSTOM:trailF5
	trailEffectRate:0.5
	tags:land5
	areaRadiusFromEdge:true
	friendlyFire: true
[effect_ArtWAT2]
	image: ROOT:\common\water.png
	life: 400
	fadeOut: true
	fadeInTime:20
	scaleFrom: 1.5
	scaleTo: 2.5
	alpha: 5
	drawUnderUnits:true
	createWhenOverLand:false
	dirOffsetRandom:20
	dirOffset:180
	attachedToUnit:false
[turret_MD]
	x: 0
	y: 0
	idleDir:0
	invisible: true
	canAttack: true
	canAttackFlyingUnits: false
	canAttackLandUnits:   false
	canAttackUnderwaterUnits: false
	interceptProjectiles_withTags: ro1
	interceptProjectiles_andUnderDistance:190
	shoot_sound: large_gun_fire2
	shoot_sound_vol:0.3
	shoot_light:#ffc800
	projectile: pow1
	resourceUsage:MD=1
	size: 1
[projectile_pow1]
	directDamage: 600
	life: 99999
	speed: 3
	targetSpeed: 5
	targetSpeedAcceleration:1
	frame:7
	drawType:0
	trailEffect: CUSTOM:MD
	trailEffectRate:4
	deflectionPower:-1
[effect_MD]
	stripIndex: effects
	frameIndex: 0
	life: 120
	fadeOut: true
	attachedToUnit: false
	color: #FF5e5353
	fadeInTime:5
	scaleFrom: 0.5
	scaleTo: 3.5
	alpha: 1
	drawUnderUnits:false
	atmospheric:true
	dirOffsetRandom:180
	shadow:true
	xSpeedAbsoluteRandom: 0.2
	ySpeedAbsoluteRandom: 0.2
#//////////////////////////////[Эффекты]/////////////////////////////////////////
[effect_EkWakeTail]
	image: ROOT:common\waketail.png
	createWhenOverLand: false
	life: 700
	spawnChance: 0.9
	fadeOut: true
	attachedToUnit: false
	fadeInTime:10
	scaleFrom: 0.6
	scaleTo: 2.1
	alpha: 0.85
	drawUnderUnits:true
	yOffsetRelative: -27
	dirOffsetRandom: 10
	dirSpeedRandom: 0.1
	ySpeedRelative:0.2
[effect_EkWakeFront]
	image: ROOT:common\wakefront.png
	createWhenOverLand: false
	life: 550
	spawnChance: 0.9
	fadeOut: true
	attachedToUnit: false
	fadeInTime:10
	scaleFrom: 1.2
	scaleTo: 2
	alpha: 0.55
	drawUnderUnits:true
	yOffsetRelative: 100
	dirOffsetRandom: 5
	dirSpeedRandom: 0.05
	ySpeedRelative:0.2
[effect_Bam]
	image: ROOT:common\water.png
	alsoEmitEffects:CUSTOM:Bam,CUSTOM:waterSplash
	createWhenOverLand: false
	life: 700
	spawnChance: 1
	fadeOut: true
	attachedToUnit: false
	fadeInTime:10
	scaleFrom: 1
	scaleTo: 3
	alpha: 0.9
	drawUnderUnits:true
	yOffsetRelative: -15
	dirOffsetRandom: 360
	dirSpeedRandom: 0.05
[arm_6]
	x:0
	y:0
	attach_y:90
	lockMovement:true
	drawOverBody: true
	image_leg:Br1.png
	hidden: if self.hp > self.maxHp*0.5
#//////////////////////////////[Движение]/////////////////////////////////////////
[movement]
	movementType: WATER
	moveSpeed: 0.5
	moveAccelerationSpeed: 0.005
	moveDecelerationSpeed: 0.007
	maxTurnSpeed: 0.4
	turnAcceleration: 0.06
	moveSlidingMode :false
	moveIgnoringBody:false
	reverseSpeedPercentage:0.5
#//////////////////////////////[Вертолёты]/////////////////////////////////////////
[ai]
	buildPriority: 0.4
	
